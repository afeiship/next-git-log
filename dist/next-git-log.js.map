{"version":3,"sources":["next-git-log.js"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"next-git-log.js","sourcesContent":["(function () {\n  var global = global || this || window || Function('return this')();\n  var nx = global.nx || require('@feizheng/next-js-core2');\n  var tmpl = nx.tmpl || require('@feizheng/next-tmpl');\n  var exec = require('child_process').exec;\n  var today = new Date().toISOString().slice(0, 10);\n  var DEFAULT_OPTIONS = {\n    pretty: \"%h - %s\",\n    since: '2020-05-01',\n    before: today,\n    suffix: ''\n  }\n\n  nx.gitLog = function (inOptions) {\n    var options = nx.mix(null, DEFAULT_OPTIONS, inOptions);\n    var cmds = tmpl('git log --pretty=\"{pretty}\" --since=\"{since}\" --before=\"{before}\" {suffix}', options);\n\n    return new Promise(function (resolve, reject) {\n      exec(cmds, function (error, stdout) {\n        if (error) {\n          reject(error);\n          return;\n        }\n        resolve(stdout);\n      });\n    })\n  };\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = nx.gitLog;\n  }\n})();\n"]}